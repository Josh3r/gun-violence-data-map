{"version":3,"sources":["../../../../src/lib/extensions/gltf-extensions.js"],"names":["KHR_draco_mesh_compression","KHR_lights_punctual","KHR_materials_unlit","EXTENSIONS","decodeExtensions","gltf","options","context","extensionName","excludes","excludeExtensions","exclude","extension","decode"],"mappings":"AACA,OAAO,KAAKA,0BAAZ,MAA4C,8BAA5C;AACA,OAAO,KAAKC,mBAAZ,MAAqC,uBAArC;AACA,OAAO,KAAKC,mBAAZ,MAAqC,uBAArC;AAGA,OAAO,MAAMC,UAAU,GAAG;AACxBH,EAAAA,0BADwB;AAExBC,EAAAA,mBAFwB;AAGxBC,EAAAA;AAHwB,CAAnB;AAMP,OAAO,eAAeE,gBAAf,CAAgCC,IAAhC,EAAsCC,OAAO,GAAG,EAAhD,EAAoDC,OAApD,EAA6D;AAClED,EAAAA,OAAO,CAACD,IAAR,GAAeC,OAAO,CAACD,IAAR,IAAgB,EAA/B;;AACA,OAAK,MAAMG,aAAX,IAA4BL,UAA5B,EAAwC;AACtC,UAAMM,QAAQ,GAAGH,OAAO,CAACD,IAAR,CAAaK,iBAAb,IAAkC,EAAnD;AACA,UAAMC,OAAO,GAAGH,aAAa,IAAIC,QAAjB,IAA6B,CAACA,QAAQ,CAACD,aAAD,CAAtD;;AACA,QAAI,CAACG,OAAL,EAAc;AACZ,YAAMC,SAAS,GAAGT,UAAU,CAACK,aAAD,CAA5B;AAGA,YAAMI,SAAS,CAACC,MAAV,CAAiBR,IAAjB,EAAuBC,OAAvB,EAAgCC,OAAhC,CAAN;AACD;AACF;AACF","sourcesContent":["/* eslint-disable camelcase */\nimport * as KHR_draco_mesh_compression from './KHR_draco_mesh_compression';\nimport * as KHR_lights_punctual from './KHR_lights_punctual';\nimport * as KHR_materials_unlit from './KHR_materials_unlit';\n// import UBER_POINT_CLOUD_COMPRESSION from './KHR_draco_mesh_compression';\n\nexport const EXTENSIONS = {\n  KHR_draco_mesh_compression,\n  KHR_lights_punctual,\n  KHR_materials_unlit\n};\n\nexport async function decodeExtensions(gltf, options = {}, context) {\n  options.gltf = options.gltf || {};\n  for (const extensionName in EXTENSIONS) {\n    const excludes = options.gltf.excludeExtensions || {};\n    const exclude = extensionName in excludes && !excludes[extensionName];\n    if (!exclude) {\n      const extension = EXTENSIONS[extensionName];\n      // Note: We decode async extensions sequentially, this might not be necessary\n      // Currently we only have Draco, but when we add Basis we may revisit\n      await extension.decode(gltf, options, context);\n    }\n  }\n}\n"],"file":"gltf-extensions.js"}